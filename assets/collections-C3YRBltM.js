const b=["#FF6B6B","#4ECDC4","#2C3E50","#F39C12","#FFFFFF"],x=[[0,0,0,3,3,0,0,0,0,0,0,0,0,0,3,3,0,0,0,0],[0,0,3,3,3,3,0,0,0,0,0,0,0,3,3,3,3,0,0,0],[0,3,3,3,3,3,3,0,0,0,0,0,3,3,3,3,3,3,0,0],[3,3,3,3,3,3,3,3,0,0,0,3,3,3,3,3,3,3,3,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0],[3,3,5,5,3,3,3,3,3,3,3,3,3,3,5,5,3,3,3,0],[3,3,5,2,3,3,3,3,3,3,3,3,3,3,2,5,3,3,3,0],[3,3,3,3,3,3,3,1,1,3,3,1,1,3,3,3,3,3,3,0],[3,3,3,3,3,3,3,3,1,1,1,1,3,3,3,3,3,3,3,0],[3,3,3,3,3,3,3,3,3,1,3,3,3,3,3,3,3,3,3,0],[3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0],[0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0],[0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0],[0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0],[0,0,0,0,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0],[0,0,0,0,0,3,4,4,3,3,3,4,4,0,0,0,0,0,0,0],[0,0,0,0,0,0,4,4,0,0,0,4,4,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],B=["#FF6B6B","#FF8E8E","#4ECDC4","#2ECC71","#F39C12"];function L(){const e=Array(30).fill(null).map(()=>Array(30).fill(0));function E(t,o,s,n){for(let l=o-s;l<=o+s;l++)for(let y=t-s;y<=t+s;y++){if(l<0||l>=30||y<0||y>=30)continue;const C=y-t,a=l-o;C*C+a*a<=s*s&&(e[l][y]=n)}}function c(t,o,s){for(let n=o-s;n<=o+s;n++)for(let l=t-s;l<=t+s;l++){if(n<0||n>=30||l<0||l>=30)continue;const y=l-t,C=n-o;y*y+C*C<=s*s&&(e[n][l]=0)}}E(15,6,5,1),c(15,6,3),E(8,13,5,2),c(8,13,3),E(22,13,5,1),c(22,13,3),E(10,20,4,2),c(10,20,2),E(20,20,4,1),c(20,20,2),E(15,14,3,5),c(15,14,2),e[14][15]=5;for(let t=18;t<28;t++)e[t][14]=4,e[t][15]=4;for(let t=0;t<5;t++){const o=21+t;o<30&&(13-t>=0&&(e[o][13-t]=4),12-t>=0&&(e[o][12-t]=4),11-t>=0&&t<4&&(e[o][11-t]=4))}for(let t=0;t<5;t++){const o=19+t;o<30&&(16+t<30&&(e[o][16+t]=4),17+t<30&&(e[o][17+t]=4),18+t<30&&t<4&&(e[o][18+t]=4))}const z=[[1,2],[1,3],[1,4],[1,5],[1,6],[2,3],[3,3],[4,3],[5,3],[6,5],[7,4],[7,5],[7,6],[8,5],[4,7],[5,8],[6,9],[8,1],[8,2],[9,0],[9,1],[9,2],[9,3]];for(const[t,o]of z)t<30&&o<30&&e[t][o]===0&&(e[t][o]=4);const F=[[1,24],[1,25],[1,26],[1,27],[2,27],[3,27],[3,26],[3,25],[5,24],[5,25],[6,24],[6,25],[7,28],[8,28],[9,28],[9,27],[9,20],[9,21],[9,22],[9,23]];for(const[t,o]of F)t<30&&o<30&&e[t][o]===0&&(e[t][o]=2);const T=[[20,0],[20,1],[20,2],[20,3],[21,0],[22,0],[23,0],[24,2],[24,3],[25,2],[25,3],[27,1],[27,2],[27,3],[27,4],[28,4],[29,2],[29,3],[29,4],[26,6],[26,7],[27,7]];for(const[t,o]of T)t<30&&o<30&&e[t][o]===0&&(e[t][o]=4);const d=[[26,26],[26,27],[27,26],[27,27],[28,24],[28,25],[28,26],[28,27],[29,25],[29,26],[24,28],[25,28],[25,29]];for(const[t,o]of d)t<30&&o<30&&e[t][o]===0&&(e[t][o]=1);return R(e,10,3,3,4),e}function R(h,e,E,c,z){const F=h.length,T=(h[0]||[]).length;function d(s){const n=s.length,l=[],y=[];for(let C=0;C<n;C++){const a=[];let m=0;for(let u=0;u<n;u++)s[C][u]===1?m++:m>0&&(a.push(m),m=0);m>0&&a.push(m),l.push(a.length>0?a:[0])}for(let C=0;C<n;C++){const a=[];let m=0;for(let u=0;u<n;u++)s[u][C]===1?m++:m>0&&(a.push(m),m=0);m>0&&a.push(m),y.push(a.length>0?a:[0])}return{rowClues:l,colClues:y}}function t(s,n){if(s.length===1&&s[0]===0)return[new Array(n).fill(0)];const l=[],y=s.length;function C(a,m,u){if(a===y){const r=[...u];for(let i=m;i<n;i++)r[i]=0;l.push(r);return}const p=s.slice(a+1).reduce((r,i)=>r+i,0)+(y-a-1);for(let r=m;r<=n-s[a]-p;r++){const i=[...u];for(let f=m;f<r;f++)i[f]=0;for(let f=r;f<r+s[a];f++)i[f]=1;a<y-1&&r+s[a]<n?(i[r+s[a]]=0,C(a+1,r+s[a]+1,i)):C(a+1,r+s[a],i)}}return C(0,0,new Array(n).fill(0)),l}function o(s){const n=s.length,{rowClues:l,colClues:y}=d(s),C=s.map(u=>u.map(()=>-1));let a=!0,m=0;for(;a&&m<200;){a=!1,m++;for(let u=0;u<n;u++){const p=C[u],r=t(l[u],n).filter(i=>{for(let f=0;f<n;f++)if(p[f]!==-1&&p[f]!==i[f])return!1;return!0});if(!r.length)return!1;for(let i=0;i<n;i++)p[i]===-1&&r.every(f=>f[i]===r[0][i])&&(C[u][i]=r[0][i],a=!0)}for(let u=0;u<n;u++){const p=C.map(i=>i[u]),r=t(y[u],n).filter(i=>{for(let f=0;f<n;f++)if(p[f]!==-1&&p[f]!==i[f])return!1;return!0});if(!r.length)return!1;for(let i=0;i<n;i++)C[i][u]===-1&&r.every(f=>f[i]===r[0][i])&&(C[i][u]=r[0][i],a=!0)}}return C.every(u=>u.every(p=>p!==-1))}for(let s=0;s<E;s++)for(let n=0;n<c;n++){const l=s*e,y=n*e,C=[];let a=!1;for(let p=0;p<e;p++){const r=[];for(let i=0;i<e;i++){const f=l+p,g=y+i,w=f<F&&g<T&&h[f][g]>0?1:0;r.push(w),w&&(a=!0)}C.push(r)}if(!a||o(C))continue;const m=[...Array.from({length:e},(p,r)=>({type:"hbar",row:r})),...Array.from({length:e},(p,r)=>({type:"vbar",col:r})),{type:"cross"}];let u=!1;for(const p of m){const r=C.map(i=>[...i]);if(p.type==="hbar")for(let i=0;i<e;i++)r[p.row][i]===0&&(r[p.row][i]=1);else if(p.type==="vbar")for(let i=0;i<e;i++)r[i][p.col]===0&&(r[i][p.col]=1);else if(p.type==="cross"){const i=Math.floor(e/2);for(let f=0;f<e;f++)r[i][f]===0&&(r[i][f]=1);for(let f=0;f<e;f++)r[f][i]===0&&(r[f][i]=1)}if(o(r)){for(let i=0;i<e;i++)for(let f=0;f<e;f++)if(r[i][f]===1&&C[i][f]===0){const g=l+i,w=y+f;g<F&&w<T&&(h[g][w]=z)}u=!0;break}}if(!u)for(let p=0;p<e&&!u;p++)for(let r=0;r<e&&!u;r++){const i=C.map(f=>[...f]);for(let f=0;f<e;f++)i[p][f]===0&&(i[p][f]=1);for(let f=0;f<e;f++)i[f][r]===0&&(i[f][r]=1);if(o(i)){for(let f=0;f<e;f++)for(let g=0;g<e;g++)if(i[f][g]===1&&C[f][g]===0){const w=l+f,A=y+g;w<F&&A<T&&(h[w][A]=z)}u=!0}}}}const _=["#E74C3C","#3498DB","#ECF0F1","#F39C12","#2C3E50"];function j(){const e=Array(30).fill(null).map(()=>Array(30).fill(0));for(let t=4;t<22;t++){const o=t<8?t-4+1:t<18?5:5-(t-18),s=15-o,n=15+o;if(s>=0&&s<30&&(e[t][s]=3),s+1>=0&&s+1<30&&o>2&&(e[t][s+1]=3),n>=0&&n<30&&(e[t][n]=3),n-1>=0&&n-1<30&&o>2&&(e[t][n-1]=3),t<8)for(let l=s;l<=n;l++)l>=0&&l<30&&(e[t][l]=3);if(t===21)for(let l=s;l<=n;l++)l>=0&&l<30&&(e[t][l]=3)}for(let t=2;t<6;t++){const o=Math.max(0,t-3);for(let s=15-o;s<=15+o;s++)e[t][s]=1}for(let t=9;t<=12;t++)for(let o=13;o<=17;o++){const s=o-15,n=t-10.5;s*s+n*n<=4&&(e[t][o]=2)}for(let t=16;t<22;t++){const s=10-Math.min(t-16+1,3);if(s>=0&&(e[t][s]=1),e[t][10]=1,t===16||t===21||t===17)for(let n=s;n<=10;n++)n>=0&&(e[t][n]=1)}for(let t=16;t<22;t++){const s=20+Math.min(t-16+1,3);if(e[t][20]=1,s<30&&(e[t][s]=1),t===16||t===21||t===17)for(let n=20;n<=s;n++)n<30&&(e[t][n]=1)}for(let t=22;t<28;t++){const o=28-t,s=Math.min(o,3);for(let n=15-s;n<=15+s;n++)n>=0&&n<30&&((n+t)%2===0?e[t][n]=4:e[t][n]=1)}const E=[[2,2],[2,3],[2,4],[2,5],[3,1],[3,2],[3,3],[3,4],[3,5],[3,6],[4,1],[4,2],[4,3],[4,4],[4,5],[4,6],[5,2],[5,3],[5,4],[5,5],[1,3],[1,4],[6,3],[6,4],[0,7],[0,8],[7,0],[7,1],[8,6],[8,7],[9,1],[9,2],[9,3]];for(const[t,o]of E)e[t][o]===0&&(e[t][o]=2);const c=[[10,0],[10,1],[10,2],[10,3],[10,4],[10,5],[10,6],[10,7],[10,8],[12,0],[12,1],[12,2],[12,3],[12,4],[12,5],[12,6],[12,7],[12,8],[14,0],[14,1],[14,2],[14,3],[14,4],[14,5],[14,6],[14,7],[14,8],[14,9],[16,0],[16,1],[16,2],[16,3],[16,4],[16,5],[16,6],[16,7],[18,1],[18,2],[18,3],[18,4],[18,5],[18,6],[11,2],[11,5],[11,8],[13,2],[13,5],[15,2],[15,5],[17,3],[17,4],[17,5],[19,2],[19,3],[19,4]];for(const[t,o]of c)t<30&&o<30&&e[t][o]===0&&(e[t][o]=3);const z=[[1,22],[1,23],[1,24],[2,21],[2,22],[2,23],[2,24],[2,25],[3,22],[3,23],[3,24],[3,25],[3,26],[4,23],[4,24],[4,25],[5,25],[5,26],[6,26],[6,27],[7,22],[7,23],[8,28],[8,29],[9,21],[9,22],[9,23]];for(const[t,o]of z)o<30&&e[t][o]===0&&(e[t][o]=4);const F=[[10,22],[10,23],[10,24],[10,25],[11,25],[11,26],[12,26],[12,27],[14,25],[14,26],[14,27],[15,24],[15,27],[15,28],[16,25],[16,26],[16,27],[18,22],[18,23],[18,24],[19,22],[19,24]];for(const[t,o]of F)t<30&&o<30&&e[t][o]===0&&(e[t][o]=5);const T=[[21,2],[21,3],[21,4],[22,1],[22,2],[22,3],[22,4],[22,5],[23,1],[23,2],[23,3],[23,4],[23,5],[24,2],[24,3],[24,4],[26,6],[26,7],[27,5],[27,6],[27,7],[27,8],[28,6],[28,7],[20,8],[20,9],[29,0],[29,1],[29,2]];for(const[t,o]of T)t<30&&e[t][o]===0&&(e[t][o]=3);const d=[[21,25],[21,26],[21,27],[22,24],[22,25],[22,27],[22,28],[23,24],[23,28],[24,24],[24,25],[24,27],[24,28],[25,25],[25,26],[25,27],[27,22],[27,23],[28,28],[28,29],[29,24],[29,25],[29,26]];for(const[t,o]of d)t<30&&o<30&&e[t][o]===0&&(e[t][o]=3);return R(e,10,3,3,5),e}const M=["#FF6B6B","#FF8E8E","#C0392B"],v=(Array(15).fill(null).map(()=>Array(15).fill(0)),[[0,0,1,1,1,0,0,0,0,1,1,1,0,0,0],[0,1,1,2,1,1,0,0,1,1,2,1,1,0,0],[1,1,2,2,1,1,1,1,1,1,2,1,1,1,0],[1,1,2,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,0,0,0],[0,0,1,1,1,1,1,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]),O=["#2ECC71","#E74C3C","#F1C40F","#8B6914","#27AE60"],D=[[0,0,0,0,0,0,0,3,0,0,0,0,0,0,0],[0,0,0,0,0,0,3,3,3,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,1,5,1,5,1,0,0,0,0,0],[0,0,0,0,1,1,1,2,1,1,1,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,0,0,0,0,0],[0,0,0,0,1,1,2,1,1,1,1,0,0,0,0],[0,0,0,1,1,1,1,1,2,1,1,1,0,0,0],[0,0,1,1,1,3,1,1,1,3,1,1,1,0,0],[0,1,1,2,1,1,1,1,1,1,1,2,1,1,0],[1,1,1,1,1,3,1,1,1,3,1,1,1,1,1],[0,0,0,0,0,0,4,4,4,0,0,0,0,0,0],[0,0,0,0,0,0,4,4,4,0,0,0,0,0,0],[0,0,0,0,0,4,4,4,4,4,0,0,0,0,0]],U=["#2ECC71","#3498DB","#F5DEB3","#1ABC9C","#2C3E50"],I=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0,0,0,4,4,4,4,4,4,0,0,0,0],[0,0,1,5,1,1,0,0,0,4,1,1,1,1,1,1,4,0,0,0],[0,0,0,1,1,0,0,0,4,1,1,4,4,1,1,4,1,4,0,0],[0,0,0,3,3,3,0,4,1,1,4,1,1,4,1,1,4,1,4,0],[3,3,3,0,0,3,4,1,1,1,1,4,4,1,1,1,1,1,4,0],[0,3,3,3,0,0,4,1,1,4,1,1,1,4,1,1,4,4,0,0],[0,0,3,3,3,0,4,1,1,1,4,4,4,1,1,1,4,0,0,0],[0,0,0,0,0,0,0,4,1,1,1,1,1,1,1,4,0,0,0,0],[0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,0,0,0,0,0],[0,0,0,0,0,3,3,3,0,0,0,0,0,0,0,3,3,3,0,0],[0,0,0,0,0,3,3,3,0,0,0,0,0,0,3,3,3,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1]],k=["#E74C3C","#F1C40F","#F39C12","#2ECC71","#8B4513"],H=[[0,0,0,0,5,5,5,5,5,5,5,0,0,0,0],[0,0,0,5,3,3,3,3,3,3,3,5,0,0,0],[0,0,5,3,2,3,3,3,3,2,3,3,5,0,0],[0,5,3,3,3,3,3,3,3,3,3,3,3,5,0],[5,3,3,3,3,1,1,3,3,3,3,3,3,3,5],[5,2,3,3,3,1,1,3,3,3,4,4,3,3,5],[0,5,3,4,4,3,3,3,3,3,4,4,3,5,0],[0,5,3,4,4,3,3,2,3,3,3,3,3,5,0],[0,0,5,3,3,3,3,3,3,3,1,1,5,0,0],[0,0,0,5,3,3,3,3,3,3,1,5,0,0,0],[0,0,0,0,5,3,3,1,3,3,5,0,0,0,0],[0,0,0,0,0,5,3,1,3,5,0,0,0,0,0],[0,0,0,0,0,0,5,3,5,0,0,0,0,0,0],[0,0,0,0,0,0,0,5,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,0,0,0,0,0,0,0,2,2,0,0],[0,1,2,1,0,0,4,4,0,0,0,2,3,2,0],[0,1,1,1,0,0,4,4,4,0,0,2,2,0,0],[0,0,1,0,0,0,0,4,0,0,0,0,0,0,0]],$=[{id:"heart",name:"ì‚¬ë‘ì˜ í•˜íŠ¸",emoji:"â¤ï¸",description:"9ê°œì˜ í¼ì¦ì„ í’€ì–´ í•˜íŠ¸ë¥¼ ì™„ì„±í•˜ì„¸ìš”",palette:M,bigPicture:v,tileRows:3,tileCols:3,tileSize:5,difficulty:"ì…ë¬¸",color:"#FF6B6B"},{id:"cat",name:"ê·€ì—¬ìš´ ê³ ì–‘ì´",emoji:"ğŸ±",description:"16ê°œì˜ í¼ì¦ì„ í’€ì–´ ê³ ì–‘ì´ë¥¼ ì™„ì„±í•˜ì„¸ìš”",palette:b,bigPicture:x,tileRows:4,tileCols:4,tileSize:5,difficulty:"ì´ˆê¸‰",color:"#F39C12"},{id:"flower",name:"ì•„ë¦„ë‹¤ìš´ ê½ƒ",emoji:"ğŸŒ¸",description:"9ê°œì˜ í¼ì¦ì„ í’€ì–´ ê½ƒì„ ì™„ì„±í•˜ì„¸ìš”",palette:B,bigPicture:L(),tileRows:3,tileCols:3,tileSize:10,difficulty:"ì¤‘ê¸‰",color:"#FF6B6B"},{id:"rocket",name:"ìš°ì£¼ ë¡œì¼“",emoji:"ğŸš€",description:"9ê°œì˜ í¼ì¦ì„ í’€ì–´ ë¡œì¼“ì„ ì™„ì„±í•˜ì„¸ìš”",palette:_,bigPicture:j(),tileRows:3,tileCols:3,tileSize:10,difficulty:"ê³ ê¸‰",color:"#3498DB"},{id:"tree",name:"í¬ë¦¬ìŠ¤ë§ˆìŠ¤ íŠ¸ë¦¬",emoji:"ğŸ„",description:"9ê°œì˜ í¼ì¦ì„ í’€ì–´ íŠ¸ë¦¬ë¥¼ ì™„ì„±í•˜ì„¸ìš”",palette:O,bigPicture:D,tileRows:3,tileCols:3,tileSize:5,difficulty:"ì…ë¬¸",color:"#2ECC71"},{id:"turtle",name:"ë°”ë‹¤ê±°ë¶",emoji:"ğŸ¢",description:"12ê°œì˜ í¼ì¦ì„ í’€ì–´ ê±°ë¶ì´ë¥¼ ì™„ì„±í•˜ì„¸ìš”",palette:U,bigPicture:(()=>{const h=I.map(e=>[...e]);return R(h,5,3,4,4),h})(),tileRows:3,tileCols:4,tileSize:5,difficulty:"ì´ˆê¸‰",color:"#1ABC9C"},{id:"food",name:"ë§›ìˆëŠ” ìŒì‹",emoji:"ğŸ•",description:"12ê°œì˜ í¼ì¦ì„ í’€ì–´ ìŒì‹ì„ ì™„ì„±í•˜ì„¸ìš”",palette:k,bigPicture:H,tileRows:4,tileCols:3,tileSize:5,difficulty:"ì´ˆê¸‰",color:"#F39C12"}];function W(h,e,E){const{bigPicture:c,tileSize:z}=h,F=e*z,T=E*z,d=[];for(let t=0;t<z;t++){const o=[];for(let s=0;s<z;s++){const n=F+t,l=T+s;n<c.length&&l<c[0].length?o.push(c[n][l]):o.push(0)}d.push(o)}return{solution:d,palette:h.palette}}function Y(h){return h.length?h[0].map((e,E)=>h.map(c=>c[E])):[]}function P(h){return h.map(e=>{const E=[];let c=0;for(const z of e)z>0?c++:c>0&&(E.push(c),c=0);return c>0&&E.push(c),E.length>0?E:[0]})}function K(h,e,E){const{solution:c,palette:z}=W(h,e,E),F=c.length,T=P(c),d=P(Y(c)),t=c.flat().filter(o=>o>0).length;return{size:F,solution:c,rowClues:T,colClues:d,palette:z,totalFilled:t,isMultiColor:!1,name:`${h.name} ${e*h.tileCols+E+1}`}}function N(h,e){const E=h.length;for(let c=0;c<E;c++)for(let z=0;z<E;z++){const F=h[c][z],T=e[c][z];if(F>0&&T!==1||F===0&&T===1)return!1}return!0}export{$ as C,N as a,K as c};
